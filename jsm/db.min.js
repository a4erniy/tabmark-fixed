var db={isReady:!1,tables:[],store:{},init:function(){db.g("version")<"1.3"?(ldb.init(),ldb.loadAll(),ldb.store.dials.length>0?(db.store=ldb.store,db.saveAll()):db.loadAll(),db.s("version","1.3")):db.loadAll()},loadAll:function(){chrome.storage.local.get(["dials","tabs","settings"],function(a){db.store=a,db.isReady=!0,void 0===a.settings.showSearchbar&&(a.settings.showSearchbar=!0)})},load:function(a,b){b=void 0===b?[]:b,chrome.storage.local.get(a,function(c){db.store[a]=void 0===c[a]?b:c[a]})},save:function(a){var b={};b[a]=db.store[a],chrome.storage.local.set(b)},saveAll:function(){chrome.storage.local.set(db.store)},g:function(a){return"undefined"!=typeof localStorage[a]?JSON.parse(localStorage[a]):!1},s:function(a,b){localStorage[a]=JSON.stringify(b)}},ldb={tables:[],init:function(){var a=ldb.g("defaults");ldb.tables=[{name:"tabs",d:a.tabs},{name:"dials",d:a.dials},{name:"settings",d:a.settings}]},store:{},loadAll:function(){ldb.tables.forEach(function(a){ldb.load(a.name,a.d)})},load:function(a,b){b="undefined"!=typeof b?b:[],ldb.store[a]=localStorage[a]?JSON.parse(localStorage[a]):b},save:function(a){localStorage[a]=JSON.stringify(ldb.store[a])},saveAll:function(){this.tables.forEach(function(a){ldb.save(a.name)})},g:function(a){return"undefined"!=typeof localStorage[a]?JSON.parse(localStorage[a]):!1},s:function(a,b){localStorage[a]=JSON.stringify(b)}};