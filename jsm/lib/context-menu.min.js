!function(a,b){a.fn.contextMenu=function(c){function d(d){var e=d.pageX,f=a(b).width(),g=a(c.menuSelector).width();return e+g>f&&e>g?e-g:e}function e(d){var e=d.pageY,f=a(b).height(),g=a(c.menuSelector).height();return e+g>f&&e>g?e-g:e}return this.each(function(){a(this).on("contextmenu",function(b){return a(c.menuSelector).data("invokedOn",a(b.target)).show().css({position:"absolute",left:d(b),top:e(b)}).off("click").on("click",function(b){a(this).hide();var d=a(this).data("invokedOn"),e=a(b.target);c.menuSelected.call(this,d,e)}),!1}),a(document).click(function(){a(c.menuSelector).hide()})})}}(jQuery,window);