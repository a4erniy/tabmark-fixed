function log(a){}function getTopRGB(a){var b,c,d,e,f=5,g=document.createElement("canvas"),h=g.getContext&&g.getContext("2d"),i=-4;if(!h)return["#333"];d=g.height=a.naturalHeight||a.offsetHeight||a.height,c=g.width=a.naturalWidth||a.offsetWidth||a.width,h.drawImage(a,0,0);try{b=h.getImageData(0,0,c,d)}catch(j){return _gaq.push(["_trackEvent","error","error-getTopRGB",j.message]),"0,0,0"}e=b.data.length;for(var k={};(i+=4*f)<e;){var l=helper.colorToHex(b.data[i]+","+b.data[i+1]+","+b.data[i+2]);void 0===k[l]&&(k[l]={color:l,sum:b.data[i]+b.data[i+1]+b.data[i+2],count:0}),k[l].count+=1}return k=_.sortBy(k,function(a){return-a.count}),getProperColors(k)}function getProperColor(a){a.length>1&&765==a[0].sum&&a.splice(0,1);for(var b in a)if(!isGray(a[b].color))return a[b];return a[0]}function getProperColors(a){var b=[],c=!1;a.length>1&&765==a[0].sum&&a.splice(0,1);for(var d in a)if(isGray(a[d].color)?c||(b.push(a[d].color),c=!0):b.push(a[d].color),b.length>=5)break;return b}var helper={parseUrl:function(a){var b=document.createElement("a");return b.href=a,b},closeModal:function(a){a.modal("hide"),$(".modal-backdrop").remove(),setTimeout(function(){a.remove()},500)},getHostname:function(a,b){if("undefined"!=typeof a&&a.indexOf("chrome-extension")<0&&a.indexOf("http")>-1){var c=a.split(/\/+/g)[1].split(/\?/)[0];return"undefined"==typeof b||b===!1?c:c.replace(/^www./,"")}return a},openInCurrent:function(a){chrome.tabs.getSelected(null,function(b){chrome.tabs.update(b.id,{url:a})})},getImgDataUrl:function(a,b){var c=new Image;c.src=a,c.onload=function(){var a=document.createElement("canvas");a.width=this.width,a.height=this.height;var c=a.getContext("2d");c.drawImage(this,0,0);var d=a.toDataURL();b(d)}},ajax:function(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){4==b.readyState&&(200==b.status?a.success(b.responseText):a.error(b.responseText))},b.onerror=a.error,b.open("GET",a.url,!0),b.send()},colorToHex:function(a){var b="#";a=a.split(",");for(c in a){var d=Number(a[c]).toString(16);b+=1==d.length?0+d:d}return b},chooseTextColor:function(a){a=0==a.indexOf("#")?a.substr(1).match(/.{1,2}/g).map(function(a){return parseInt(a,16)}):a.match(/d{1,3}/g);var b=(299*a[0]+587*a[1]+114*a[2])/255e3;return b>=.8?"#333":"#fff"},findFavicon:function(a,b){var c=a.split("://")[0];if("chrome"==c)return void b("chrome://favicon/"+a);if(-1==["http","https"].indexOf(c))return null;var d=c+"://"+a.split(/\/+/g)[1].split(/\?/)[0],e=function(){$.ajax({url:a,success:function(c){for(var e=c.match(/\<link.*\>/g),f=null,g=0;g<e.length;g++){var h=$(e[g]),i=["icon","shortcut icon"].indexOf(h.attr("rel").toLowerCase())>-1;if(i){f=h.attr("href");break}}null!=f?(0==f.indexOf("//")?f=a.split("//")[0]+f:0==f.indexOf("/")&&(f=d+f),b(f)):b(null)}})},f=function(){$.ajax({url:d+"/favicon.ico",success:function(){b(d+"/favicon.ico")},error:function(){e()}})};f()},resizeImage:function(a,b,c){var d=new Image;d.onload=function(){var a=Math.ceil(b/d.width*d.height),e=document.createElement("canvas");e.width=b,e.height=a,e.getContext("2d").drawImage(d,0,0,b,a),c(e.toDataURL())},d.src=a},save:function(a,b,c){if(a){b||(b="console.json"),"object"==typeof a&&(a=JSON.stringify(a,void 0,4)),c=c?c:"text/plain";var d=new Blob([a],{type:c}),e=document.createEvent("MouseEvents"),f=document.createElement("a");f.download=b,f.href=window.URL.createObjectURL(d),f.dataset.downloadurl=["text/json",f.download,f.href].join(":"),e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.dispatchEvent(e)}}};Handlebars.registerHelper("selected",function(a,b){return a===b?" selected":""}),Handlebars.registerHelper("checked",function(a,b){return a===b?" checked":""}),Handlebars.registerHelper("adActive",function(a,b){return a==b?" active":""}),Handlebars.registerHelper("ifEquals",function(a,b){return a==b}),logger=function(a){},isGray=function(a){var b=a.split(",");return b[0]==b[1]&&b[0]==b[2]};